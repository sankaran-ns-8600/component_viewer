/* ═══════════════════════════════════════════════════════════════════════
   ComponentViewer – Stylesheet
   ═══════════════════════════════════════════════════════════════════════ */

/* ── overlay ─────────────────────────────────────────────────────────── */
.cv-overlay {
  position: fixed; inset: 0; z-index: 99999;
  display: flex; align-items: center; justify-content: center;
  background: rgba(0,0,0,.88);
  opacity: 0; visibility: hidden;
  transition: opacity .3s ease-out, visibility .3s ease-out;
}
.cv-overlay.cv-visible { opacity: 1; visibility: visible; }
.cv-overlay.cv-closing {
  opacity: 0;
  transition: opacity .28s ease-in, visibility .28s ease-in;
}

.cv-backdrop {
  position: absolute; inset: 0; z-index: 0;
  cursor: default;
}
.cv-shell {
  position: relative; z-index: 1;
  transform: translateZ(0);  /* own stacking context so shell is always above backdrop */
  display: flex; flex-direction: column;
  width: 96vw; height: 96vh; max-width: 1400px;
  pointer-events: auto;
  color: #e0e0e0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  font-size: 14px; user-select: none;
  opacity: 0;
  transform: translateZ(0) scale(0.98);
  transition: opacity .3s ease-out, transform .3s ease-out;
}
.cv-overlay.cv-visible .cv-shell {
  opacity: 1;
  transform: translateZ(0) scale(1);
}
.cv-overlay.cv-closing .cv-shell {
  opacity: 0;
  transform: translateZ(0) scale(0.97);
  transition: opacity .28s ease-in, transform .28s ease-in;
}

/* ── header ──────────────────────────────────────────────────────────── */
.cv-header {
  display: flex; align-items: center;
  padding: 10px 12px; flex-shrink: 0; gap: 12px;
}
.cv-header-left   { flex-shrink: 0; }
.cv-header-center { flex: 1; min-width: 0; }
.cv-header-right  { flex-shrink: 0; display: flex; align-items: center; gap: 8px; }
.cv-counter { font-size: 13px; opacity: .6; min-width: 48px; }
.cv-title { font-size: 14px; font-weight: 500; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; display: block; }
.cv-theme-toggle,
.cv-fullscreen-toggle {
  background: rgba(255,255,255,.08); border: none; color: #e0e0e0;
  width: 36px; height: 36px; border-radius: 6px; cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  transition: background .15s; padding: 0;
}
.cv-theme-toggle:hover,
.cv-fullscreen-toggle:hover { background: rgba(255,255,255,.2); }
.cv-theme-toggle:focus-visible,
.cv-fullscreen-toggle:focus-visible { outline: 2px solid rgba(255,255,255,.9); outline-offset: 2px; }
.cv-theme-toggle svg,
.cv-fullscreen-toggle svg { width: 18px; height: 18px; display: block; }
.cv-close {
  background: rgba(255,255,255,.08); border: none; color: #e0e0e0;
  font-size: 24px; width: 36px; height: 36px; line-height: 1;
  border-radius: 6px; cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  transition: background .15s;
}
.cv-close:hover { background: rgba(255,255,255,.2); }
.cv-close:focus-visible { outline: 2px solid rgba(255,255,255,.9); outline-offset: 2px; }

/* ── tooltip (hover, not title attribute) ──────────────────────────────── */
.cv-tooltip {
  position: fixed;
  z-index: 100000;
  padding: 6px 10px;
  font-size: 12px;
  line-height: 1.3;
  color: #fff;
  background: rgba(0,0,0,.85);
  border-radius: 6px;
  white-space: nowrap;
  pointer-events: none;
  opacity: 0;
  visibility: hidden;
  transition: opacity .15s ease-out, visibility .15s ease-out;
}
.cv-tooltip.cv-tooltip-visible {
  opacity: 1;
  visibility: visible;
}
/* When overlay is in fullscreen, tooltip is moved into it; ensure it appears above overlay content */
.cv-overlay .cv-tooltip {
  z-index: 2147483647;
}
/* When video is in fullscreen, tooltip is moved into the video wrapper; ensure it appears above video controls */
.cv-video-wrap .cv-tooltip {
  z-index: 2147483647;
}

/* ── shortcuts popup ─────────────────────────────────────────────────── */
.cv-shortcuts-popup {
  position: absolute; inset: 0; z-index: 100;
  display: flex; align-items: center; justify-content: center;
  pointer-events: none; visibility: hidden; opacity: 0;
  transition: opacity .2s ease-out, visibility .2s ease-out;
}
.cv-shortcuts-popup.cv-open {
  pointer-events: auto; visibility: visible; opacity: 1;
  background: rgba(0,0,0,.55);
}
.cv-shortcuts-popup-inner {
  pointer-events: auto;
  background: rgba(30,30,30,.97);
  color: #e0e0e0;
  padding: 16px 20px;
  border-radius: 10px;
  max-width: 320px; max-height: 80vh;
  overflow: auto;
  box-shadow: 0 4px 24px rgba(0,0,0,.4);
}
.cv-theme-light .cv-shortcuts-popup-inner {
  background: rgba(250,250,250,.98);
  color: #333;
  box-shadow: 0 4px 24px rgba(0,0,0,.15);
}
.cv-shortcuts-popup-title {
  font-size: 14px; font-weight: 600;
  margin-bottom: 12px; padding-bottom: 8px;
  border-bottom: 1px solid rgba(255,255,255,.15);
}
.cv-theme-light .cv-shortcuts-popup-title {
  border-bottom-color: rgba(0,0,0,.12);
}
.cv-shortcuts-list {
  list-style: none; margin: 0; padding: 0;
}
.cv-shortcuts-list li {
  display: flex; align-items: center; gap: 10px;
  padding: 6px 0; font-size: 13px;
}
.cv-shortcuts-list kbd {
  flex-shrink: 0;
  min-width: 28px;
  padding: 2px 6px;
  font-size: 12px; font-family: inherit;
  background: rgba(255,255,255,.15);
  border: 1px solid rgba(255,255,255,.25);
  border-radius: 4px;
  text-align: center;
}
.cv-theme-light .cv-shortcuts-list kbd {
  background: rgba(0,0,0,.08);
  border-color: rgba(0,0,0,.2);
}
.cv-shortcuts-popup-close {
  display: block;
  width: 100%;
  margin-top: 12px;
  padding: 8px 12px;
  font-size: 13px;
  font-family: inherit;
  color: #e0e0e0;
  background: rgba(255,255,255,.12);
  border: none;
  border-radius: 6px;
  cursor: pointer;
}
.cv-shortcuts-popup-close:hover {
  background: rgba(255,255,255,.2);
}
.cv-theme-light .cv-shortcuts-popup-close {
  color: #333;
  background: rgba(0,0,0,.08);
}
.cv-theme-light .cv-shortcuts-popup-close:hover {
  background: rgba(0,0,0,.12);
}

/* ── body ────────────────────────────────────────────────────────────── */
.cv-body { flex: 1; display: flex; align-items: center; position: relative; min-height: 0; }
.cv-nav {
  position: absolute; top: 50%; transform: translateY(-50%);
  padding: 0; border: none; border-radius: 50%;
  background: rgba(255,255,255,.12);
  color: #e0e0e0;
  width: 44px; height: 44px;
  font-size: 16px;
  line-height: 1;
  cursor: pointer; z-index: 2;
  display: flex; align-items: center; justify-content: center;
  transition: background .2s, transform .15s;
  box-shadow: 0 1px 3px rgba(0,0,0,.2);
}
.cv-nav:hover { background: rgba(255,255,255,.22); transform: translateY(-50%) scale(1.05); }
.cv-nav:active { transform: translateY(-50%) scale(0.98); }
.cv-nav:focus-visible { outline: 2px solid rgba(255,255,255,.9); outline-offset: 2px; }
.cv-nav .cv-nav-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  line-height: 1;
  text-align: center;
}
.cv-nav svg { width: 16px; height: 16px; display: block; }
.cv-nav-prev { left: 12px; }
.cv-nav-next { right: 12px; }

/* Inline/markdown: stage has white bg — make nav arrows visible in dark mode */
.cv-shell.cv-stage-light-bg .cv-nav {
  background: rgba(0,0,0,.6);
  color: #fff;
  box-shadow: 0 1px 4px rgba(0,0,0,.4);
}
.cv-shell.cv-stage-light-bg .cv-nav:hover {
  background: rgba(0,0,0,.8);
  color: #fff;
}
.cv-shell.cv-stage-light-bg .cv-nav svg {
  stroke: #fff;
}

/* stage-only mode: hide header, carousel strip, and footer; only stage + prev/next nav */
.cv-shell.cv-stage-only .cv-header,
.cv-shell.cv-stage-only .cv-carousel-wrap,
.cv-shell.cv-stage-only .cv-footer {
  display: none !important;
}
/* when stageOnly + slideshow enabled, show footer with only slideshow control */
.cv-shell.cv-stage-only.cv-slideshow-visible .cv-footer {
  display: flex !important;
}

/* ── stage ───────────────────────────────────────────────────────────── */
.cv-stage-wrap {
  flex: 1; height: 100%;
  display: flex; align-items: center; justify-content: center;
  overflow: hidden; position: relative;
}
.cv-stage-wrap.cv-stage-out .cv-stage {
  opacity: 0;
  transition: opacity .26s ease-in;
}
.cv-stage {
  width: 100%; height: 100%;
  display: flex; align-items: center; justify-content: center;
  transition: opacity .26s ease-out;
}
.cv-stage.cv-stage-in > * {
  opacity: 0;
  transition: opacity .28s ease-out;
}
.cv-stage.cv-stage-in.cv-stage-in-visible > * {
  opacity: 1;
}

/* ── loader ──────────────────────────────────────────────────────────── */
.cv-loader { position: absolute; inset: 0; display: none; align-items: center; justify-content: center; z-index: 2; }
.cv-loader.cv-active { display: flex; }
.cv-spinner {
  width: 36px; height: 36px;
  border: 3px solid rgba(255,255,255,.15); border-top-color: rgba(255,255,255,.8);
  border-radius: 50%; animation: cv-spin .7s linear infinite;
}
@keyframes cv-spin { to { transform: rotate(360deg); } }

/* ── carousel toggle (header button) ──────────────────────────────────── */
.cv-carousel-toggle {
  background: rgba(255,255,255,.08); border: none; color: #e0e0e0;
  width: 36px; height: 36px; border-radius: 6px; cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  transition: background .15s; padding: 0;
}
.cv-carousel-toggle:hover { background: rgba(255,255,255,.2); }
.cv-carousel-toggle:focus-visible { outline: 2px solid rgba(255,255,255,.9); outline-offset: 2px; }
.cv-carousel-toggle[aria-expanded="true"] { background: rgba(66,133,244,.4); }
.cv-carousel-toggle svg { width: 16px; height: 16px; display: block; }

/* ── carousel (strip of thumbnails) ────────────────────────────────────── */
.cv-carousel-wrap {
  flex-shrink: 0;
  display: none;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  gap: 0;
  padding: 14px 16px;
  border-top: 1px solid rgba(255,255,255,.08);
  background: transparent;
}
.cv-carousel-wrap.cv-open {
  display: flex;
}
.cv-carousel-inner {
  flex: 0 1 auto;
  min-width: 0;
  max-width: 560px;
  display: flex;
  align-items: center;
  padding: 0 8px;
}
.cv-carousel-nav {
  flex-shrink: 0;
  width: 28px; height: 48px;
  margin: 0 4px;
  padding: 0; border: none; border-radius: 6px;
  background: rgba(255,255,255,.12);
  color: #e0e0e0;
  cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  transition: background .2s, transform .15s;
  box-shadow: 0 1px 3px rgba(0,0,0,.2);
}
.cv-carousel-nav:hover {
  background: rgba(255,255,255,.22);
  transform: scale(1.05);
}
.cv-carousel-nav:active { transform: scale(0.98); }
.cv-carousel-nav:focus-visible { outline: 2px solid rgba(255,255,255,.9); outline-offset: 2px; }
.cv-carousel-nav svg { width: 14px; height: 14px; display: block; }
.cv-carousel {
  width: 100%;
  min-width: 0;
  display: flex; align-items: center; justify-content: flex-start; gap: 10px;
  overflow-x: auto; overflow-y: hidden;
  padding: 10px 12px;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
  border-radius: 10px;
  background: transparent;
}
.cv-carousel::-webkit-scrollbar { height: 6px; }
.cv-carousel::-webkit-scrollbar-track { background: rgba(255,255,255,.06); border-radius: 3px; }
.cv-carousel::-webkit-scrollbar-thumb { background: rgba(255,255,255,.22); border-radius: 3px; }
.cv-carousel::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,.35); }
.cv-carousel-item {
  position: relative;
  flex-shrink: 0;
  width: 104px; height: 72px;
  padding: 0; border: 2px solid transparent;
  border-radius: 8px;
  background: rgba(255,255,255,.08);
  cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  overflow: hidden;
  transition: border-color .2s, background .2s, box-shadow .2s;
  box-shadow: 0 1px 4px rgba(0,0,0,.25);
}
.cv-carousel-item:hover {
  background: rgba(255,255,255,.18);
  box-shadow: 0 2px 8px rgba(0,0,0,.35);
}
.cv-carousel-item.cv-active {
  border-color: rgba(66,133,244,.95);
  background: rgba(66,133,244,.25);
  box-shadow: 0 0 0 1px rgba(66,133,244,.4), 0 2px 8px rgba(0,0,0,.3);
}
.cv-carousel-thumb {
  width: 100%; height: 100%;
  object-fit: cover; display: block;
}
.cv-carousel-play-icon {
  position: absolute; left: 0; top: 0; right: 0; bottom: 0;
  display: flex; align-items: center; justify-content: center;
  background: rgba(0,0,0,.4);
  color: rgba(255,255,255,.95);
  pointer-events: none;
}
.cv-carousel-play-icon svg { width: 26px; height: 26px; display: block; filter: drop-shadow(0 1px 2px rgba(0,0,0,.5)); }
.cv-carousel-no-thumb {
  font-size: 11px; font-weight: 600;
  color: rgba(255,255,255,.75);
  text-align: center; line-height: 1.2;
}
.cv-carousel-item .cv-carousel-filename {
  position: absolute;
  left: 0; right: 0; bottom: 0;
  padding: 2px 4px;
  font-size: 9px; font-weight: 600;
  line-height: 1.2;
  color: #fff;
  background: linear-gradient(transparent, rgba(0,0,0,.75));
  text-align: center;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}

/* ── footer ──────────────────────────────────────────────────────────── */
.cv-footer {
  flex-shrink: 0; padding: 8px 12px;
  display: flex; flex-direction: column; align-items: stretch; gap: 0;
}
.cv-footer-row {
  display: flex; align-items: center; justify-content: space-between; gap: 16px;
}
.cv-poll-option {
  display: none;
  padding: 12px 14px; margin: 0 -4px 10px -4px;
  border-radius: 10px;
  background: rgba(255,255,255,.1);
  border: 1px solid rgba(255,255,255,.18);
}
.cv-poll-option.cv-active { display: flex; }
.cv-poll-option-inner { display: flex; align-items: center; width: 100%; }
.cv-poll-option-label-wrap {
  display: inline-flex; align-items: center; gap: 12px;
  cursor: pointer; font-size: 15px; font-weight: 600;
  color: rgba(255,255,255,.95);
  user-select: none;
  padding: 2px 0;
}
.cv-poll-option-label-wrap input[type="radio"],
.cv-poll-option-label-wrap input[type="checkbox"] {
  margin: 0; cursor: pointer; flex-shrink: 0;
  width: 18px; height: 18px;
  accent-color: rgba(66,133,244,.9);
}
.cv-poll-option-label-wrap input[type="radio"]:focus-visible,
.cv-poll-option-label-wrap input[type="checkbox"]:focus-visible { outline: 2px solid rgba(255,255,255,.9); outline-offset: 2px; }
.cv-poll-option-label {
  letter-spacing: 0.02em;
}
.cv-toolbar {
  display: flex; align-items: center; gap: 6px;
  background: rgba(255,255,255,.06); padding: 4px 6px; border-radius: 8px;
  flex-wrap: wrap;
}
.cv-toolbar:empty { display: none; }

.cv-tb-btn {
  background: rgba(255,255,255,.08); border: none; color: #e0e0e0;
  cursor: pointer; border-radius: 6px;
  padding: 6px 10px; font-size: 13px;
  display: inline-flex; align-items: center; justify-content: center;
  gap: 6px; transition: background .15s;
}
.cv-tb-btn:hover { background: rgba(255,255,255,.2); }
.cv-tb-btn:focus-visible { outline: 2px solid rgba(255,255,255,.9); outline-offset: 2px; }
.cv-tb-btn.cv-active { background: rgba(66,133,244,.5); }
.cv-tb-btn svg { vertical-align: middle; }
.cv-tb-btn i   { font-size: 16px; line-height: 1; }
.cv-tb-label   { font-size: 13px; }
.cv-tb-sep { width: 1px; height: 20px; background: rgba(255,255,255,.15); margin: 0 4px; }
.cv-slideshow-btn { padding: 4px 8px; font-size: 11px; }
.cv-slideshow-btn .cv-tb-label { font-size: 11px; }

/* slideshow progress indicator */
.cv-slideshow-progress-wrap {
  display: none;
  height: 3px;
  width: 100%;
  background: rgba(255,255,255,.12);
  border-radius: 2px;
  overflow: hidden;
  margin-bottom: 6px;
}
.cv-slideshow-progress-bar {
  height: 100%;
  width: 0%;
  background: rgba(255,255,255,.5);
  border-radius: 2px;
}

/* ── zoom widget ─────────────────────────────────────────────────────── */
.cv-zoom-widget { display: flex; align-items: center; gap: 6px; }
.cv-zoom-widget .cv-tb-btn { padding: 4px 6px; }
.cv-zoom-slider {
  -webkit-appearance: none; appearance: none;
  width: 130px; height: 4px;
  background: rgba(255,255,255,.2); border-radius: 2px; outline: none; cursor: pointer;
}
.cv-zoom-slider::-webkit-slider-thumb {
  -webkit-appearance: none; width: 14px; height: 14px; border-radius: 50%;
  background: #fff; cursor: pointer; box-shadow: 0 0 3px rgba(0,0,0,.4);
}
.cv-zoom-slider::-moz-range-thumb {
  width: 14px; height: 14px; border-radius: 50%;
  background: #fff; cursor: pointer; border: none;
}
.cv-zoom-slider:focus-visible { outline: 2px solid rgba(255,255,255,.8); outline-offset: 2px; }
.cv-zoom-pct { font-size: 12px; opacity: .6; min-width: 36px; text-align: center; cursor: pointer; }
.cv-zoom-pct:hover { opacity: 1; }

/* ═══════════════════════════════════════════════════════════════════════
   IMAGE (includes GIF – same renderer; animation preserved by browser)
   ═══════════════════════════════════════════════════════════════════════ */
.cv-img-wrap {
  position: relative;
  width: 100%; height: 100%;
  overflow: hidden;
}
.cv-image {
  position: absolute;
  left: 50%; top: 50%;
  max-width: 100%; max-height: 100%;
  object-fit: contain;
  opacity: 0; transition: opacity .25s ease;
  transform-origin: 50% 50%;
  will-change: transform;
  backface-visibility: hidden;
  display: block;
}
.cv-image.cv-loaded { opacity: 1; }

/* ═══════════════════════════════════════════════════════════════════════
   VIDEO (jPlayer skin)
   ═══════════════════════════════════════════════════════════════════════ */
.cv-video-wrap {
  width: 100%; height: 100%; position: relative;
  display: flex; align-items: center; justify-content: center;
  background: #000; border-radius: 4px; overflow: hidden;
}
.cv-jp-player { width: 100%; height: 100%; }
.cv-jp-player img, .cv-jp-player video { width: 100% !important; height: 100% !important; object-fit: contain; }
.cv-native-video { width: 100%; height: 100%; object-fit: contain; display: block; }

.cv-jp-video-ui { position: absolute; inset: 0; display: flex; flex-direction: column; }
.cv-jp-video-screen { flex: 1; cursor: pointer; }

/* big center play button — icon centered in middle */
.cv-jp-big-play {
  position: absolute; top: 0; left: 0; right: 0; bottom: 48px;
  width: 100%;
  display: flex; align-items: center; justify-content: center;
  cursor: pointer; z-index: 1;
  pointer-events: auto;
}
.cv-jp-big-play svg {
  position: absolute;
  left: 50%; top: 50%;
  transform: translate(-50%, -50%);
  display: block;
  width: 72px; height: 72px; padding: 16px;
  background: rgba(0,0,0,.55); border-radius: 50%;
  transition: transform .15s, opacity .2s;
}
.cv-jp-big-play:hover svg { transform: translate(-50%, -50%) scale(1.08); }
.cv-jp-big-play.cv-hidden { pointer-events: none; }
.cv-jp-big-play.cv-hidden svg { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }

/* shortcut feedback overlay (video only; small icon at top-right when Space/M used) */
.cv-jp-state-feedback {
  position: absolute; top: 0; right: 0;
  padding: 16px 16px 0 0;
  display: flex; align-items: flex-start; justify-content: flex-end;
  pointer-events: none; z-index: 2;
}
.cv-jp-state-feedback svg {
  width: 40px; height: 40px; padding: 10px;
  background: rgba(0,0,0,.6); border-radius: 50%;
  color: #fff;
  animation: cv-jp-state-feedback-in .25s ease-out;
}
.cv-jp-state-feedback.cv-jp-state-feedback-out svg {
  animation: cv-jp-state-feedback-out .3s ease-in forwards;
}
@keyframes cv-jp-state-feedback-in {
  from { opacity: 0; transform: scale(0.7); }
  to { opacity: 1; transform: scale(1); }
}
@keyframes cv-jp-state-feedback-out {
  from { opacity: 1; transform: scale(1); }
  to { opacity: 0; transform: scale(0.85); }
}

.cv-jp-controls {
  display: flex; align-items: center; gap: 8px;
  padding: 8px 12px;
  background: linear-gradient(transparent, rgba(0,0,0,.75));
}
.cv-jp-btn {
  background: none; border: none; color: #fff;
  cursor: pointer; padding: 4px;
  display: flex; align-items: center; justify-content: center;
  opacity: .85; transition: opacity .15s;
}
.cv-jp-btn:hover { opacity: 1; }
.cv-jp-btn-lg svg { width: 28px; height: 28px; }
.cv-jp-hd { font-size: 11px; font-weight: 700; min-width: 28px; letter-spacing: .02em; }
.cv-jp-hd.cv-jp-hd-active {
  background: rgba(66, 133, 244, 0.9);
  color: #fff;
  box-shadow: 0 0 0 2px rgba(255,255,255,.6);
}
.cv-jp-hd.cv-jp-hd-active::after { content: ' \2713'; font-size: 10px; opacity: .95; }
.cv-jp-hd-badge {
  display: none;
  position: absolute;
  top: 8px;
  left: 8px;
  padding: 3px 8px;
  font-size: 11px;
  font-weight: 700;
  letter-spacing: .05em;
  background: rgba(66, 133, 244, 0.92);
  color: #fff;
  border-radius: 4px;
  pointer-events: none;
  z-index: 2;
}
.cv-jp-time { font-size: 12px; color: rgba(255,255,255,.7); white-space: nowrap; min-width: 36px; }

.cv-jp-progress {
  flex: 1; height: 4px; border-radius: 2px;
  background: rgba(255,255,255,.2); position: relative; cursor: pointer;
}
.cv-jp-play-bar {
  height: 100%; background: #4285f4; border-radius: 2px;
  position: absolute; top: 0; left: 0;
}

.cv-jp-speed {
  background: rgba(255,255,255,.1); border: 1px solid rgba(255,255,255,.15);
  color: #fff; border-radius: 4px;
  padding: 2px 4px; font-size: 12px;
  cursor: pointer; outline: none;
}
.cv-jp-speed option { background: #222; color: #fff; }

.cv-jp-volume {
  width: 60px; height: 4px; border-radius: 2px;
  background: rgba(255,255,255,.2); position: relative; cursor: pointer;
}
.cv-jp-volume-val {
  height: 100%; background: #fff; border-radius: 2px;
  position: absolute; top: 0; left: 0;
}

/* ═══════════════════════════════════════════════════════════════════════
   AUDIO (jPlayer skin)
   ═══════════════════════════════════════════════════════════════════════ */
.cv-audio-wrap {
  position: relative;
  width: 100%; max-width: 480px; height: 100%;
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  gap: 28px; margin: 0 auto;
}
.cv-audio-artwork {
  display: flex; flex-direction: column;
  align-items: center; gap: 14px; text-align: center;
}
.cv-audio-icon {
  width: 110px; height: 110px;
  background: rgba(255,255,255,.06); border-radius: 20px;
  display: flex; align-items: center; justify-content: center;
}
.cv-audio-title { font-size: 17px; font-weight: 600; max-width: 400px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.cv-audio-meta { display: flex; gap: 10px; font-size: 13px; opacity: .45; }

.cv-jp-audio-ui { width: 100%; }
.cv-jp-audio-ui .cv-jp-controls {
  background: rgba(255,255,255,.04); border-radius: 10px; padding: 12px 16px;
}
.cv-jp-audio-ui .cv-jp-progress { background: rgba(255,255,255,.12); }
.cv-jp-audio-ui .cv-jp-play-bar { background: #34a853; }
.cv-audio-native-controls {
  width: 100%; max-width: 400px;
}
.cv-audio-native-controls audio {
  width: 100%; height: 40px; outline: none;
}

/* ═══════════════════════════════════════════════════════════════════════
   PDF (pdf.js)
   ═══════════════════════════════════════════════════════════════════════ */
.cv-pdf-wrap { width: 100%; height: 100%; display: flex; overflow: hidden; }
.cv-pdf-iframe-wrap {
  width: 100%; height: 100%; display: flex; overflow: hidden;
}
.cv-pdf-iframe {
  width: 100%; height: 100%; border: none; display: block;
}
.cv-pdf-sidebar {
  width: 160px; flex-shrink: 0; background: rgba(0,0,0,.3);
  overflow-y: auto; padding: 8px;
  border-right: 1px solid rgba(255,255,255,.08);
}
.cv-pdf-thumbs { display: flex; flex-direction: column; gap: 8px; }
.cv-pdf-thumb {
  cursor: pointer; border-radius: 4px;
  border: 2px solid transparent; overflow: hidden; position: relative;
  transition: border-color .15s;
}
.cv-pdf-thumb:hover { border-color: rgba(255,255,255,.3); }
.cv-pdf-thumb.cv-active { border-color: #4285f4; }
.cv-pdf-thumb canvas { width: 100%; display: block; }
.cv-pdf-thumb-num {
  position: absolute; bottom: 2px; right: 4px;
  font-size: 10px; color: rgba(255,255,255,.6);
  background: rgba(0,0,0,.5); padding: 1px 4px; border-radius: 3px;
}
.cv-pdf-main {
  flex: 1; overflow: auto;
  display: flex; align-items: flex-start; justify-content: center; padding: 12px;
}
.cv-pdf-canvas-wrap {
  display: flex; flex-direction: column; align-items: center; justify-content: flex-start;
  gap: 16px; min-height: 100%; padding: 8px 0;
}
.cv-pdf-canvas { box-shadow: 0 2px 12px rgba(0,0,0,.4); border-radius: 2px; max-width: 100%; }
.cv-pdf-page-info { font-size: 12px; opacity: .7; padding: 0 6px; white-space: nowrap; min-width: 50px; text-align: center; }

.cv-pdf-page { position: relative; }
.cv-pdf-annotations { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; }
.cv-pdf-annot { pointer-events: auto; }
.cv-pdf-annot-link { display: block; width: 100%; height: 100%; cursor: pointer; }
.cv-pdf-annot-link:hover { background: rgba(66,133,244,.12); }
.cv-pdf-annot-highlight { background: rgba(255,213,0,.25); mix-blend-mode: multiply; }
.cv-pdf-annot[style] { cursor: default; }

/* ═══════════════════════════════════════════════════════════════════════
   INLINE (source code: js, jsp, java, etc.)
   ═══════════════════════════════════════════════════════════════════════ */
.cv-inline-wrap {
  width: 100%; height: 100%;
  overflow: auto;
  background: #fff;
  display: flex; align-items: flex-start; justify-content: center;
  padding: 16px;
}
.cv-inline-body {
  min-width: 100%; max-width: 100%;
  font-family: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, monospace;
  font-size: 13px; line-height: 1.5;
  color: #24292f;
  text-align: left;
}
.cv-inline-loading {
  width: 100%; height: 100%;
  display: flex; align-items: center; justify-content: center;
  min-height: 120px;
}
.cv-inline-spinner {
  width: 36px; height: 36px;
  border: 3px solid rgba(0,0,0,.1);
  border-top-color: rgba(0,0,0,.45);
  border-radius: 50%;
  animation: cv-spin .7s linear infinite;
}
.cv-inline-line {
  display: flex;
  white-space: pre;
  min-height: 1.5em;
}
.cv-inline-num {
  flex-shrink: 0;
  width: 3.5em; padding-right: 12px;
  text-align: right; user-select: none;
  color: #8c8c8c; border-right: 1px solid #e6e8eb;
  margin-right: 12px;
}
.cv-inline-code {
  flex: 1;
  white-space: pre;
  overflow: visible;
  word-break: normal;
}

/* ── markdown (rendered as HTML) ─────────────────────────────────────── */
.cv-markdown-body {
  width: 100%; height: 100%;
  overflow: auto;
  background: #fff;
  color: #24292f;
  font-size: 14px; line-height: 1.6;
  padding: 20px 24px;
  text-align: left;
}
.cv-markdown-body h1 { font-size: 1.5em; margin: 0 0 0.5em; }
.cv-markdown-body h2 { font-size: 1.25em; margin: 1em 0 0.4em; }
.cv-markdown-body h3 { font-size: 1.1em; margin: 0.8em 0 0.3em; }
.cv-markdown-body p { margin: 0 0 0.75em; }
.cv-markdown-body code { background: rgba(0,0,0,.06); padding: 2px 6px; border-radius: 4px; font-size: 0.9em; }
.cv-markdown-body a { color: #0969da; text-decoration: none; }
.cv-markdown-body a:hover { text-decoration: underline; }

/* ═══════════════════════════════════════════════════════════════════════
   UNSUPPORTED / ERROR
   ═══════════════════════════════════════════════════════════════════════ */
.cv-unsupported {
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  gap: 14px; text-align: center; padding: 40px 24px;
}
.cv-unsupported-icon { opacity: .25; }
.cv-unsupported-ext { font-size: 12px; font-weight: 700; letter-spacing: 1px; color: rgba(255,255,255,.5); background: rgba(255,255,255,.08); padding: 3px 12px; border-radius: 4px; }
.cv-unsupported-name { font-size: 17px; font-weight: 600; max-width: 400px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.cv-unsupported-size { font-size: 13px; opacity: .45; }
.cv-unsupported-msg  { font-size: 14px; opacity: .4; margin: 0; }
.cv-unsupported-dl {
  background: rgba(66,133,244,.2); border: none; color: #8ab4f8; cursor: pointer;
  padding: 9px 22px; border-radius: 8px; font-size: 14px;
  display: inline-flex; align-items: center; gap: 8px; transition: background .15s;
}
.cv-unsupported-dl:hover { background: rgba(66,133,244,.35); }
.cv-unsupported-dl svg { width: 16px; height: 16px; }

.cv-error-card { display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 14px; color: rgba(255,255,255,.45); }
.cv-error-card svg { opacity: .35; }
.cv-error-text { font-size: 15px; margin: 0; }
.cv-error-dl {
  background: rgba(255,255,255,.1); border: none; color: #ccc;
  padding: 8px 18px; border-radius: 6px; font-size: 13px; cursor: pointer;
  display: inline-flex; align-items: center; gap: 6px; transition: background .15s;
}
.cv-error-dl:hover { background: rgba(255,255,255,.2); }
.cv-error-dl svg { width: 14px; height: 14px; }

/* ═══════════════════════════════════════════════════════════════════════
   THEME: LIGHT
   ═══════════════════════════════════════════════════════════════════════ */
/* shell */
.cv-theme-light { background: rgba(245,245,245,.95); }
.cv-theme-light .cv-shell { color: #333; }
.cv-theme-light .cv-theme-toggle { background: rgba(0,0,0,.06); color: #333; }
.cv-theme-light .cv-theme-toggle:hover { background: rgba(0,0,0,.12); }
.cv-theme-light .cv-theme-toggle:focus-visible { outline-color: #1a73e8; }
.cv-theme-light .cv-carousel-toggle { background: rgba(0,0,0,.06); color: #333; }
.cv-theme-light .cv-carousel-toggle:hover { background: rgba(0,0,0,.12); }
.cv-theme-light .cv-carousel-toggle:focus-visible { outline-color: #1a73e8; }
.cv-theme-light .cv-carousel-toggle[aria-expanded="true"] { background: rgba(66,133,244,.25); color: #1a73e8; }
.cv-theme-light .cv-carousel-toggle svg { stroke: #444; }
.cv-theme-light .cv-fullscreen-toggle { background: rgba(0,0,0,.06); color: #333; }
.cv-theme-light .cv-fullscreen-toggle:hover { background: rgba(0,0,0,.12); }
.cv-theme-light .cv-fullscreen-toggle:focus-visible { outline-color: #1a73e8; }
.cv-theme-light .cv-fullscreen-toggle svg { stroke: #444; }
/* carousel strip (thumbnails) in light mode */
.cv-theme-light .cv-carousel-wrap {
  border-top-color: rgba(0,0,0,.08);
  background: rgba(0,0,0,.03);
}
.cv-theme-light .cv-carousel-nav {
  background: rgba(0,0,0,.1);
  color: #333;
  box-shadow: 0 1px 3px rgba(0,0,0,.12);
}
.cv-theme-light .cv-carousel-nav:hover {
  background: rgba(0,0,0,.18);
}
.cv-theme-light .cv-carousel-nav:focus-visible { outline-color: #1a73e8; }
.cv-theme-light .cv-carousel-nav svg { stroke: #333; }
.cv-theme-light .cv-carousel {
  background: rgba(0,0,0,.04);
}
.cv-theme-light .cv-carousel::-webkit-scrollbar-track { background: rgba(0,0,0,.06); }
.cv-theme-light .cv-carousel::-webkit-scrollbar-thumb { background: rgba(0,0,0,.2); }
.cv-theme-light .cv-carousel::-webkit-scrollbar-thumb:hover { background: rgba(0,0,0,.3); }
.cv-theme-light .cv-carousel-item {
  background: rgba(0,0,0,.06);
  box-shadow: 0 1px 4px rgba(0,0,0,.15);
}
.cv-theme-light .cv-carousel-item:hover {
  background: rgba(0,0,0,.1);
  box-shadow: 0 2px 8px rgba(0,0,0,.2);
}
.cv-theme-light .cv-carousel-item.cv-active {
  border-color: rgba(26,115,232,.9);
  background: rgba(66,133,244,.2);
  box-shadow: 0 0 0 1px rgba(66,133,244,.35), 0 2px 8px rgba(0,0,0,.15);
}
.cv-theme-light .cv-carousel-play-icon {
  background: rgba(0,0,0,.4);
  color: rgba(255,255,255,.95);
}
.cv-theme-light .cv-carousel-play-icon svg { stroke: currentColor; filter: drop-shadow(0 1px 2px rgba(0,0,0,.5)); }
.cv-theme-light .cv-carousel-no-thumb {
  color: rgba(0,0,0,.6);
}
.cv-theme-light .cv-carousel-item .cv-carousel-filename {
  color: #1a1a1a;
  background: linear-gradient(transparent, rgba(0,0,0,.65));
}
.cv-theme-light .cv-close { background: rgba(0,0,0,.06); color: #333; }
.cv-theme-light .cv-close:hover { background: rgba(0,0,0,.12); }
.cv-theme-light .cv-close:focus-visible { outline-color: #1a73e8; }
.cv-theme-light .cv-nav:focus-visible { outline-color: #1a73e8; }
.cv-theme-light .cv-tb-btn:focus-visible { outline-color: #1a73e8; }
.cv-theme-light .cv-zoom-slider:focus-visible { outline-color: #1a73e8; }
.cv-theme-light .cv-poll-option-label-wrap input:focus-visible { outline-color: #1a73e8; }
.cv-theme-light .cv-nav { background: rgba(255,255,255,.92); color: #333; box-shadow: 0 1px 4px rgba(0,0,0,.2); }
.cv-theme-light .cv-nav:hover { background: #fff; box-shadow: 0 2px 8px rgba(0,0,0,.25); }
.cv-theme-light .cv-nav svg { stroke: #333; }

/* toolbar */
.cv-theme-light .cv-toolbar { background: rgba(0,0,0,.04); }
.cv-theme-light .cv-poll-option {
  background: rgba(0,0,0,.06);
  border-color: rgba(0,0,0,.12);
}
.cv-theme-light .cv-poll-option-label-wrap { color: #1a1a1a; }
.cv-theme-light .cv-poll-option-label-wrap input[type="radio"],
.cv-theme-light .cv-poll-option-label-wrap input[type="checkbox"] {
  accent-color: #1a73e8;
}
.cv-theme-light .cv-tb-btn { background: rgba(0,0,0,.06); color: #444; }
.cv-theme-light .cv-tb-btn:hover { background: rgba(0,0,0,.12); }
.cv-theme-light .cv-tb-btn.cv-active { background: rgba(66,133,244,.25); color: #1a73e8; }
.cv-theme-light .cv-tb-sep { background: rgba(0,0,0,.1); }

/* zoom */
.cv-theme-light .cv-zoom-slider { background: rgba(0,0,0,.15); }
.cv-theme-light .cv-zoom-slider::-webkit-slider-thumb { background: #333; }
.cv-theme-light .cv-zoom-slider::-moz-range-thumb { background: #333; }
.cv-theme-light .cv-zoom-pct { color: #555; }

/* loader */
.cv-theme-light .cv-spinner { border-color: rgba(0,0,0,.1); border-top-color: rgba(0,0,0,.6); }

/* video */
.cv-theme-light .cv-video-wrap { background: #111; }
.cv-theme-light .cv-jp-big-play { color: #fff; }
.cv-theme-light .cv-jp-big-play svg { background: rgba(0,0,0,.45); fill: #fff; }
.cv-theme-light .cv-jp-controls { background: linear-gradient(transparent, rgba(0,0,0,.65)); }
.cv-theme-light .cv-jp-time { color: rgba(255,255,255,.75); }
.cv-theme-light .cv-jp-progress { background: rgba(255,255,255,.25); }
.cv-theme-light .cv-jp-play-bar { background: #4285f4; }
.cv-theme-light .cv-jp-volume { background: rgba(255,255,255,.25); }
.cv-theme-light .cv-jp-volume-val { background: #fff; }

/* audio */
.cv-theme-light .cv-audio-icon { background: rgba(0,0,0,.04); }
.cv-theme-light .cv-audio-icon svg { stroke: #666; }
.cv-theme-light .cv-jp-audio-ui .cv-jp-controls { background: rgba(0,0,0,.04); }
.cv-theme-light .cv-jp-audio-ui .cv-jp-btn { color: #444; }
.cv-theme-light .cv-jp-audio-ui .cv-jp-time { color: #888; }
.cv-theme-light .cv-jp-audio-ui .cv-jp-progress { background: rgba(0,0,0,.1); }
.cv-theme-light .cv-jp-audio-ui .cv-jp-play-bar { background: #34a853; }
.cv-theme-light .cv-jp-audio-ui .cv-jp-volume { background: rgba(0,0,0,.1); }
.cv-theme-light .cv-jp-audio-ui .cv-jp-volume-val { background: #555; }

/* speed select — ensure visible in light theme (video bar is dark, audio bar is light) */
.cv-theme-light .cv-jp-speed {
  background: rgba(255,255,255,.95);
  border: 1px solid rgba(0,0,0,.2);
  color: #333;
  min-width: 52px;
}
.cv-theme-light .cv-jp-speed option { background: #fff; color: #333; }
.cv-theme-light .cv-jp-audio-ui .cv-jp-speed {
  background: rgba(255,255,255,.95);
  border: 1px solid rgba(0,0,0,.15);
  color: #444;
}

/* pdf */
.cv-theme-light .cv-pdf-sidebar { background: rgba(0,0,0,.03); border-right-color: rgba(0,0,0,.08); }
.cv-theme-light .cv-pdf-thumb:hover { border-color: rgba(0,0,0,.2); }
.cv-theme-light .cv-pdf-thumb.cv-active { border-color: #4285f4; }
.cv-theme-light .cv-pdf-thumb-num { background: rgba(255,255,255,.8); color: #555; }
.cv-theme-light .cv-pdf-canvas { box-shadow: 0 2px 12px rgba(0,0,0,.15); }

/* unsupported */
.cv-theme-light .cv-unsupported-icon svg { stroke: #555; }
.cv-theme-light .cv-unsupported-ext { background: rgba(0,0,0,.06); color: rgba(0,0,0,.45); }
.cv-theme-light .cv-unsupported-name { color: #333; }
.cv-theme-light .cv-unsupported-dl { background: rgba(66,133,244,.1); color: #1a73e8; }
.cv-theme-light .cv-unsupported-dl:hover { background: rgba(66,133,244,.2); }

/* error */
.cv-theme-light .cv-error-card { color: rgba(0,0,0,.4); }
.cv-theme-light .cv-error-card svg { stroke: #888; }
.cv-theme-light .cv-error-dl { background: rgba(0,0,0,.06); color: #555; }
.cv-theme-light .cv-error-dl:hover { background: rgba(0,0,0,.12); }

.cv-theme-dark { background: rgba(0,0,0,.88); }

/* ═══════════════════════════════════════════════════════════════════════
   RESPONSIVE
   ═══════════════════════════════════════════════════════════════════════ */
@media (max-width: 600px) {
  .cv-shell { width: 100vw; height: 100vh; max-width: none; }
  .cv-nav { width: 44px; height: 44px; }
  .cv-header { padding: 8px; }
  .cv-footer { padding: 6px 8px; flex-wrap: wrap; }
  .cv-zoom-slider { width: 80px; }
  .cv-jp-volume { display: none; }
  .cv-pdf-sidebar { width: 100px; }
  .cv-audio-wrap { max-width: 100%; }
}
